#!/bin/bash

GREEN="[0;32m"
RED="[0;31m"
CLEAN="[0m"

ROOT_UID=0

function print_array() {
    local array="$1[@]"

    for element in "${!array}"; do
        echo "     "$element | tr '-' ' '
    done
}

function in_array() {
    local array="$1[@]"
    local seeking=$2
    local in=1

    for element in "${!array}"; do
        if [[ $element == $seeking ]]; then
            in=0
            break
        fi
    done
    echo $in
    return $in
}

function print_ok() {
    LF=$2

    [ $LF -eq 1 ] && echo "$GREEN[+]$CLEAN $1" || echo -n "$GREEN[+]$CLEAN $1"
}

function print_ko() {
    LF=$2

    [ $LF -eq 1 ] && echo "$RED[+]$CLEAN $1" || echo -n "$RED[+]$CLEAN $1"
}

function check_root() {
    if [ $UID -ne $ROOT_UID ] ; then
	print_ko "You must be root to do that!"
	exit 1
    fi
}

function extract() {
    FILE=$1
    DEST=$2
    EXTCMD="tar xzvf $FILE "

    if [ "$DEST" != ""]; then $EXTCMD="tar xzvf $FILE -C $DEST"; fi

    print_ok "Extracting '$FILE' ('$EXTCMD')... "
    $EXTCMD
}